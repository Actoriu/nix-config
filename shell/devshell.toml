# imports = ["git/hooks"]
# git.hooks.enable = true
# git.hooks.pre-comment = "treefmt"

[devshell]
# packages = ["treefmt"]

[[commands]]
name = "darwin-MacBook"
category = "nix-darwin"
command = '''
        darwin-rebuild $@ --flake $PRJ_ROOT/hosts/MacBook/#MacBook
        '''
help = "darwin-MacBook rebuild"

# [[commands]]
# name = "nvfetcher-default"
# category = "Update"
# command = "nvfetcher -c $PRJ_ROOT/pkgs/sources.toml -o $PRJ_ROOT/pkgs"
# help = "run nvfetcher with local sources.toml"

[[commands]]
name = "rebuild"
category = "devos"
command = "sudo nixos-rebuild --flake .#NixOS switch"
help = "rebuild current NixOS"
# [[env]]
# name = "GC_DONT_GC" #https://github.com/NixOS/nix/issues/4178
# value = "1"